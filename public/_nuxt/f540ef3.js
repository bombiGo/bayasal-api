(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{566:function(e,t,r){"use strict";r.r(t);var n=r(23),c=(r(79),{middleware:["auth","role"],data:function(){return{headers:[{text:"Нэр",value:"name"},{text:"Ангилал",value:"categories"},{text:"Зураг",value:"image"},{text:"",value:"actions"}],recipes:[],categories:[],isBusy:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isBusy=!0,t.prev=1,t.next=4,e.$axios.get("/recipes");case 4:r=t.sent,e.isBusy=!1,200==r.status&&(e.recipes=r.data),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),e.isBusy=!1,console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},edit:function(e){this.$router.push({name:"recipes-id-edit",params:{id:e}})},remove:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm("Та энэ жорыг устгах уу?")){r.next=11;break}return r.prev=1,r.next=4,t.$axios.delete("/recipes/"+e);case 4:r.sent.data.success&&(t.$notify.showMessage({content:"Жор устгагдлаа",color:"primary"}),t.fetchData()),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0.response);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()}}}),o=r(51),l=r(58),m=r.n(l),v=r(190),d=r(414),f=r(454),h=r(559),x=r(166),_=r(141),w=r(165),y=r(463),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",[r("v-col",[e.isBusy?r("div",{staticClass:"text-center ma-3"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e._e(),e._v(" "),r("div",{staticClass:"mb-4"},[r("v-btn",{attrs:{color:"primary",elevation:"2",to:"/recipes/create"}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-plus")]),e._v("\n        Жор нэмэх\n      ")],1)],1),e._v(" "),e.isBusy?e._e():r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.recipes,"items-per-page":10},scopedSlots:e._u([{key:"item.categories",fn:function(t){var n=t.item;return e._l(n.categories,(function(t){return r("v-chip",{key:t.id,staticClass:"mr-2"},[e._v("\n          "+e._s(t.name)+"\n        ")])}))}},{key:"item.image",fn:function(t){var n=t.item;return[n.image?r("div",{staticClass:"ma-3"},[r("v-img",{attrs:{"lazy-src":n.image,"max-height":"50","max-width":"100",src:n.image}})],1):e._e()]}},{key:"item.actions",fn:function(t){var n=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{dense:""},on:{click:function(t){return e.edit(n.id)}}},[e._v("\n          mdi-pencil\n        ")]),e._v(" "),r("v-icon",{attrs:{dense:""},on:{click:function(t){return e.remove(n.id)}}},[e._v("\n          mdi-delete\n        ")])]}}],null,!0)})],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VBtn:v.a,VChip:d.a,VCol:f.a,VDataTable:h.a,VIcon:x.a,VImg:_.a,VProgressCircular:w.a,VRow:y.a})}}]);