(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{476:function(e,r,t){var content=t(543);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(16).default)("2d17d7e8",content,!0,{sourceMap:!1})},542:function(e,r,t){"use strict";t(476)},543:function(e,r,t){var n=t(15)(!1);n.push([e.i,".list-style-none{list-style:none;padding-left:0!important}",""]),e.exports=n},578:function(e,r,t){"use strict";t.r(r);var n=t(23),o=(t(79),t(29),{middleware:["auth","role"],data:function(){return{valid:!0,nameRules:[function(e){return!!e||"Нэрээ оруулна уу"},function(e){return e&&e.length<=200||"Нэрийн урт 200 аас хэтэрсэн байна!"}],imageRules:[function(e){return!e||e.size<2097152||"Зураг 2 MB аас хэтэрсэн байна!"}],isBusy:!1,isLoading:!1,errorStatus:null,errors:null,form:{name:"",image:null},imageUrl:""}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.$route.params.id){r.next=16;break}return e.isBusy=!0,r.prev=2,r.next=5,e.$axios.get("/recipe-categories/"+e.$route.params.id+"/edit");case 5:t=r.sent,e.isBusy=!1,t.data.success&&(e.form.name=t.data.data.name,e.imageUrl=t.data.data.image),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(2),e.isBusy=!1,console.log(r.t0);case 14:r.next=17;break;case 16:alert("Id not found!");case 17:case"end":return r.stop()}}),r,null,[[2,10]])})))()},validate:function(){this.$refs.form.validate()&&this.submitForm()},submitForm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.isLoading=!0,e.errors=null,r.prev=2,(t=new FormData).append("name",e.form.name),t.append("image",e.form.image),r.next=8,e.$axios.post("/recipe-categories/"+e.$route.params.id+"/update",t);case 8:r.sent.data.success&&(e.$notify.showMessage({content:"Ангилал засагдлаа",color:"primary"}),e.$router.push("/recipe-categories")),r.next=18;break;case 12:r.prev=12,r.t0=r.catch(2),e.isLoading=!1,e.errorStatus=r.t0.response.status,422==r.t0.response.status?e.errors=r.t0.response.data:e.errors=r.t0.response.statusText,console.log(r.t0.response);case 18:case"end":return r.stop()}}),r,null,[[2,12]])})))()}}}),l=(t(542),t(51)),c=t(58),m=t.n(c),d=t(398),f=t(190),v=t(415),h=t(413),x=t(141),_=t(165),y=t(384),component=Object(l.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"pa-4"},[e.isBusy?t("div",{staticClass:"text-center ma-3"},[t("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e._e(),e._v(" "),e.isBusy?e._e():t("div",[t("h3",[e._v("Ангилал засах")]),e._v(" "),e.errorStatus&&e.errors?t("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[422==e.errorStatus?t("ul",{staticClass:"list-style-none"},e._l(e.errors,(function(r,n){return t("li",{key:n},[t("ul",e._l(r,(function(r,i){return t("li",{key:i},[e._v("\n              "+e._s(r)+"\n            ")])})),0)])})),0):t("div",[e._v(" "+e._s(e.errors))])]):e._e(),e._v(" "),t("v-form",{ref:"form",staticClass:"mt-3 mb-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(r){e.valid=r},expression:"valid"}},[t("v-text-field",{attrs:{counter:200,rules:e.nameRules,label:"Нэр",required:"","error-message":"error"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}}),e._v(" "),t("v-file-input",{attrs:{rules:e.imageRules,accept:"image/png, image/jpeg, image/bmp",placeholder:"Зураг оруулна уу","prepend-icon":"mdi-camera",label:"Зураг"},model:{value:e.form.image,callback:function(r){e.$set(e.form,"image",r)},expression:"form.image"}}),e._v(" "),e.imageUrl?t("div",{staticClass:"mt-1 mb-4"},[t("v-img",{attrs:{"lazy-src":e.imageUrl,"max-height":"50","max-width":"100",src:e.imageUrl}})],1):e._e(),e._v(" "),t("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid||e.isLoading,loading:e.isLoading,color:"success"},on:{click:e.validate}},[e._v("\n        Засах\n      ")])],1)],1)])}),[],!1,null,null,null);r.default=component.exports;m()(component,{VAlert:d.a,VBtn:f.a,VFileInput:v.a,VForm:h.a,VImg:x.a,VProgressCircular:_.a,VTextField:y.a})}}]);