(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{563:function(e,t,n){"use strict";n.r(t);var r=n(23),o=(n(79),{middleware:["auth","role"],data:function(){return{headers:[{text:"Гарчиг",value:"title"},{text:"Ангилал",value:"categories"},{text:"Онцлох",value:"is_featured"},{text:"Зураг",value:"image"},{text:"",value:"actions"}],infos:[],categories:[],isBusy:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isBusy=!0,t.prev=1,t.next=4,e.$axios.get("/infos");case 4:n=t.sent,e.isBusy=!1,200==n.status&&(e.infos=n.data),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),e.isBusy=!1,console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},edit:function(e){this.$router.push({name:"infos-id-edit",params:{id:e}})},remove:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!confirm("Та энэ мэдээлэлийг устгах уу?")){n.next=11;break}return n.prev=1,n.next=4,t.$axios.delete("/infos/"+e);case 4:n.sent.data.success&&(t.$notify.showMessage({content:"Мэдээлэл устгагдлаа",color:"primary"}),t.fetchData()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0.response);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}}}),c=n(51),l=n(58),m=n.n(l),v=n(190),d=n(414),f=n(454),h=n(559),_=n(166),x=n(141),y=n(165),k=n(463),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",[e.isBusy?n("div",{staticClass:"text-center ma-3"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e._e(),e._v(" "),n("div",{staticClass:"mb-4"},[n("v-btn",{attrs:{color:"primary",elevation:"2",to:"/infos/create"}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-plus")]),e._v("\n        Мэдээлэл нэмэх\n      ")],1)],1),e._v(" "),e.isBusy?e._e():n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.infos,"items-per-page":10},scopedSlots:e._u([{key:"item.categories",fn:function(t){var r=t.item;return e._l(r.categories,(function(t){return n("v-chip",{key:t.id,staticClass:"mr-2"},[e._v("\n          "+e._s(t.name)+"\n        ")])}))}},{key:"item.is_featured",fn:function(t){return[t.item.is_featured?n("v-icon",{attrs:{color:"orange"}},[e._v("mdi-star")]):n("v-icon",{attrs:{disabled:""}},[e._v("mdi-star-outline")])]}},{key:"item.image",fn:function(t){var r=t.item;return[r.image?n("div",{staticClass:"ma-3"},[n("v-img",{attrs:{"lazy-src":r.image,"max-height":"50","max-width":"100",src:r.image}})],1):e._e()]}},{key:"item.actions",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{dense:""},on:{click:function(t){return e.edit(r.id)}}},[e._v("\n          mdi-pencil\n        ")]),e._v(" "),n("v-icon",{attrs:{dense:""},on:{click:function(t){return e.remove(r.id)}}},[e._v("\n          mdi-delete\n        ")])]}}],null,!0)})],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VBtn:v.a,VChip:d.a,VCol:f.a,VDataTable:h.a,VIcon:_.a,VImg:x.a,VProgressCircular:y.a,VRow:k.a})}}]);