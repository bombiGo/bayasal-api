(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{567:function(e,t,r){"use strict";r.r(t);var n=r(23),c=(r(79),{middleware:["auth","role"],data:function(){return{headers:[{text:"Нэр",value:"name"},{text:"Зураг",value:"avatar"},{text:"Мэйл хаяг",value:"email"},{text:"Утас",value:"phone"},{text:"Бүртгэгдсэн",value:"created_at"},{text:"",value:"actions"}],users:[],isBusy:!1,search:""}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isBusy=!0,t.prev=1,t.next=4,e.$axios.get("/users");case 4:r=t.sent,e.isBusy=!1,200==r.status&&(e.users=r.data),console.log(r),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),e.isBusy=!1,console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},edit:function(e){this.$router.push({name:"users-id-edit",params:{id:e}})},remove:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm("Та энэ хэрэглэгчийг устгах уу?")){r.next=12;break}return r.prev=1,r.next=4,t.$axios.delete("/users/"+e);case 4:n=r.sent,console.log(n),n.data.success&&(t.$notify.showMessage({content:"Хэрэглэгч устгагдлаа",color:"primary"}),t.fetchData()),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0.response);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()}}}),o=r(51),l=r(58),v=r.n(l),d=r(167),m=r(190),f=r(454),h=r(559),x=r(166),_=r(165),k=r(463),w=r(384),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",[r("v-col",[e.isBusy?r("div",{staticClass:"text-center ma-3"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e._e(),e._v(" "),r("div",{staticClass:"mb-4"},[r("v-btn",{attrs:{color:"primary",elevation:"2",to:"/users/create"}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-plus")]),e._v("\n        Хэрэглэгч нэмэх\n      ")],1)],1),e._v(" "),r("v-text-field",{staticClass:"mb-4",attrs:{"append-icon":"mdi-magnify",label:"Хайлт","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),e.isBusy?e._e():r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,"items-per-page":15,search:e.search},scopedSlots:e._u([{key:"item.avatar",fn:function(t){var n=t.item;return[r("div",{staticClass:"ma-3"},[n.avatar?r("v-avatar",[r("img",{attrs:{src:n.avatar,alt:n.name}})]):r("v-avatar",{attrs:{color:"primary lighten-2"}},[r("v-icon",{attrs:{dark:""}},[e._v("\n              mdi-account-circle\n            ")])],1)],1)]}},{key:"item.actions",fn:function(t){var n=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{dense:""},on:{click:function(t){return e.edit(n.id)}}},[e._v("\n          mdi-pencil\n        ")]),e._v(" "),r("v-icon",{attrs:{dense:""},on:{click:function(t){return e.remove(n.id)}}},[e._v("\n          mdi-delete\n        ")])]}}],null,!0)})],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VAvatar:d.a,VBtn:m.a,VCol:f.a,VDataTable:h.a,VIcon:x.a,VProgressCircular:_.a,VRow:k.a,VTextField:w.a})}}]);